# New Start: A modern Arch workflow built with an emphasis on functionality.
# Copyright (C) 2018 Donovan Glover

# Use the colors generated by wal
include ${HOME}/.cache/wal/kitty

# =============================
# ========== General ==========
# =============================

# Use the best shell
shell fish

# Don't use a blinking cursor
cursor_blink_interval 0

# Set the font family
font_family Hack

# Don't show title bar (necessary for Wayland)
hide_window_decorations yes

# Font size (respects DPI)
font_size 11

# Hide the mouse after 1 second (doesn't work sometimes)
mouse_hide_wait 1

# Copy text on select
copy_on_select clipboard

# Set the wayland title bar to the same color as the terminal window
wayland_titlebar_color background

# Use the grid layout by default to maximize screen usage (similar to bspwm)
# The other layouts are in this order to make it easy to differentiate them
# The stack layout is used to view specific windows in fullscreen
enabled_layouts grid, fat, tall, vertical, stack

# Set the default background opacity
background_opacity 0.9

# Enable changing the background with "kitty @ set-background-opacity <value>"
dynamic_background_opacity yes

# Allow remote control so the above command can be executed
allow_remote_control yes

# Listen for remote control commands outside of kitty (required for scripts)
listen_on unix:/tmp/kitty

# Don't make noise in the terminal, such as when scrolling to the bottom of a man page
enable_audio_bell no

# Use a consistent window size for floating windows
# remember_window_size  no

# Open new kitty tabs in the current working directory
action_alias launch_tab launch --type=tab --cwd=current
map ctrl+shift+enter launch --cwd=current
map ctrl+shift+t launch_tab

# Use a slightly large window size by default
initial_window_width  144c
initial_window_height 40c

# Don't limit frames per second to the monitor's refresh rate
# sync_to_monitor no

# Close kitty windows when their corresponding shells exit
close_on_child_death yes

# Open URLs with the browser below
open_url_with librewolf

# =============================
# ========== Spacing ==========
# =============================

# Add padding (spacing) inside of each kitty window
window_padding_width 10.0

# Make the tab bar margin the same as the window padding
tab_bar_margin_width 10.0

# Use shorter tab titles
tab_title_template "{index}: {title[title.rfind('/')+1:]}"

# vim:ft=conf
